\documentclass{article}

\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{array}  % TEST
\usepackage{enumitem}
\usepackage{epsfig}
\usepackage{graphicx}
\usepackage{listings}
\usepackage{multicol}
\usepackage{tikz}
\usepackage{upquote}
\usepackage{zref-abspage}
\usepackage{zref-savepos}
\usepackage{zref-user}

% PDF metadata.
\usepackage[
    pdftex,
    hidelinks,
    pdftitle={Regular Expressions - CSE Cracks 20XX},
    pdfcreator={Quiz Generator},
    pdfkeywords={Version: a75b96b3}
]{hyperref}

\usetikzlibrary{calc}

% Make a checkbox for multiple choice questions and record the bounding boxes to the positions file.
\newcommand{\mcqCheckbox}[2]{%
    \begin{tikzpicture}[color=black, line width=0.2mm]
        \fill[transparent] (0mm,0mm)
            node {\zsavepos{#1-#2-ll}}
            rectangle (6mm,6mm)
            node {\zsavepos{#1-#2-ur}};
        \draw (3mm,3mm)
            circle (2.5mm);
    \end{tikzpicture} %
    \write\positionOutput{%
        #1,#2,%
        mcq,%
        \arabic{abspage},%
        \zposx{#1-#2-ll}sp,\zposy{#1-#2-ll}sp,%
        \zposx{#1-#2-ur}sp,\zposy{#1-#2-ur}sp,%
        \the\paperwidth,\the\paperheight,%
        bottom-left%
    } \relax %
}

% Make a checkbox for multiple answer questions and record the bounding boxes to the positions file.
\newcommand{\maCheckbox}[2]{%
    \begin{tikzpicture}[color=black, line width=0.2mm]
        \fill[transparent] (0mm,0mm)
            node {\zsavepos{#1-#2-ll}}
            rectangle (6mm,6mm)
            node {\zsavepos{#1-#2-ur}};
        \draw (0.5mm,0.5mm)
            rectangle (5.5mm,5.5mm);
    \end{tikzpicture} %
    \write\positionOutput{%
        #1,#2,%
        ma,%
        \arabic{abspage},%
        \zposx{#1-#2-ll}sp,\zposy{#1-#2-ll}sp,%
        \zposx{#1-#2-ur}sp,\zposy{#1-#2-ur}sp,%
        \the\paperwidth,\the\paperheight,%
        bottom-left%
    } \relax %
}

% Write positions to <job>.pos .
\newwrite\positionOutput
\openout\positionOutput=\jobname.pos\relax

% Code display settings.
\lstset{
    basicstyle=\ttfamily\small,
    columns=fixed,
    fontadjust=true,
    basewidth=0.5em,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    frame=single,
    tabsize=4,
    breaklines=true,
    breakatwhitespace=false,
}

\begin{document}

\centerline{\Large Regular Expressions}
\vspace{0.2cm}

\centerline{\large CSE Cracks -- 20XX}
\centerline{\large January 01, 2024}
\vspace{1.0cm}

This quiz is open note, open book, and open world. Assume all regular expressions are done in Python using the \verb|re| standard library. Good luck!

\vspace{1.0cm}

\vspace{1.0cm}

\makebox[\textwidth]{Name:\enspace\hrulefill}

\vspace{1.0cm}

\makebox[\textwidth]{Email:\enspace\hrulefill}

\vspace{0.5cm}

\begin{quote}
I acknowledge that I have neither given nor received inappropriate help on this exam, and have abided by the letter and spirit of the University of California, Santa Cruz Code of Academic Integrity  while taking this exam.
\end{quote}

\vspace{1.0cm}

\makebox[\textwidth]{Signature:\enspace\hrulefill}

\newpage

\vspace{2cm}

\begin{minipage}{\textwidth}
    \noindent
    Question 1 (5 Points)
    \vspace{0.5cm}

    \noindent
    Which of the following regular expressions would be best to match a 10-digit phone number formatted as: '123 456-7890'. (Assume any stretch of continuous whitespace is a single space character.)
    \vspace{0.5cm}

    \begin{tabular}{ m{10mm} l } 
        \mcqCheckbox{0}{0} & \verb|r'\d{3} \d{3}-\d{4}'| \\
        \mcqCheckbox{0}{1} & \verb|r'\d{10}'| \\
        \mcqCheckbox{0}{2} & \verb|r'\d* \d*-\d*'| \\
        \mcqCheckbox{0}{3} & \verb|r'\d+ \d+-\d+'| \\
    \end{tabular}
\end{minipage}

\vspace{2cm}

\begin{minipage}{\textwidth}
    \noindent
    Question 2 (5 Points)
    \vspace{0.5cm}

    \noindent
    Which of the following does the regex \verb|r'Lo{2,3}ng Cat'| match? Select all that apply.
    \vspace{0.5cm}

    \begin{tabular}{ m{10mm} l } 
        \maCheckbox{1}{0} & Long Cat \\
        \maCheckbox{1}{1} & Loong Cat \\
        \maCheckbox{1}{2} & Looong Cat \\
        \maCheckbox{1}{3} & Loooong Cat \\
    \end{tabular}
\end{minipage}

\end{document}
